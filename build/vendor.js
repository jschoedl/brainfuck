(function(){var focusEvent="onfocusin"in document.createElement("input")?"focusin":"focus";var n=document.createElement("div");n.appendChild(document.createTextNode("x-"));n.appendChild(document.createTextNode("x"));n.normalize();var canNormalize=n.firstChild.length==3;bililiteRange=function(el,debug){var ret;if(debug){ret=new NothingRange}else if(window.getSelection&&el.setSelectionRange){try{el.selectionStart;ret=new InputRange}catch(e){ret=new NothingRange}}else if(window.getSelection){ret=new W3CRange}else if(document.selection){ret=new IERange}else{ret=new NothingRange}ret._el=el;ret._doc=el.ownerDocument;ret._win="defaultView"in ret._doc?ret._doc.defaultView:ret._doc.parentWindow;ret._textProp=textProp(el);ret._bounds=[0,ret.length()];if(!("bililiteRangeMouseDown"in ret._doc)){var _doc={_el:ret._doc};ret._doc.bililiteRangeMouseDown=false;bililiteRange.fn.listen.call(_doc,"mousedown",function(){ret._doc.bililiteRangeMouseDown=true});bililiteRange.fn.listen.call(_doc,"mouseup",function(){ret._doc.bililiteRangeMouseDown=false})}if(!("bililiteRangeSelection"in el)){function trackSelection(evt){if(evt&&evt.which==9){ret._nativeSelect(ret._nativeRange(el.bililiteRangeSelection))}else{el.bililiteRangeSelection=ret._nativeSelection()}}trackSelection();if("onbeforedeactivate"in el){ret.listen("beforedeactivate",trackSelection)}else{ret.listen("mouseup",trackSelection).listen("keyup",trackSelection)}ret.listen(focusEvent,function(){if(!ret._doc.bililiteRangeMouseDown){ret._nativeSelect(ret._nativeRange(el.bililiteRangeSelection))}})}if(!("oninput"in el)){var inputhack=function(){ret.dispatch({type:"input",bubbles:true})};ret.listen("keyup",inputhack);ret.listen("cut",inputhack);ret.listen("paste",inputhack);ret.listen("drop",inputhack);el.oninput="patched"}return ret};function textProp(el){if(typeof el.value!="undefined")return"value";if(typeof el.text!="undefined")return"text";if(typeof el.textContent!="undefined")return"textContent";return"innerText"}function Range(){}Range.prototype={length:function(){return this._el[this._textProp].replace(/\r/g,"").length},bounds:function(s){if(bililiteRange.bounds[s]){this._bounds=bililiteRange.bounds[s].apply(this)}else if(s){this._bounds=s}else{var b=[Math.max(0,Math.min(this.length(),this._bounds[0])),Math.max(0,Math.min(this.length(),this._bounds[1]))];b[1]=Math.max(b[0],b[1]);return b}return this},select:function(){var b=this._el.bililiteRangeSelection=this.bounds();if(this._el===this._doc.activeElement){this._nativeSelect(this._nativeRange(b))}this.dispatch({type:"select",bubbles:true});return this},text:function(text,select){if(arguments.length){var bounds=this.bounds(),el=this._el;this.dispatch({type:"beforeinput",bubbles:true,data:text,bounds:bounds});this._nativeSetText(text,this._nativeRange(bounds));if(select=="start"){this.bounds([bounds[0],bounds[0]])}else if(select=="end"){this.bounds([bounds[0]+text.length,bounds[0]+text.length])}else if(select=="all"){this.bounds([bounds[0],bounds[0]+text.length])}this.dispatch({type:"input",bubbles:true,data:text,bounds:bounds});return this}else{return this._nativeGetText(this._nativeRange(this.bounds())).replace(/\r/g,"")}},insertEOL:function(){this._nativeEOL();this._bounds=[this._bounds[0]+1,this._bounds[0]+1];return this},sendkeys:function(text){var self=this;this.data().sendkeysOriginalText=this.text();this.data().sendkeysBounds=undefined;function simplechar(rng,c){if(/^{[^}]*}$/.test(c))c=c.slice(1,-1);for(var i=0;i<c.length;++i){var x=c.charCodeAt(i);rng.dispatch({type:"keypress",bubbles:true,keyCode:x,which:x,charCode:x})}rng.text(c,"end")}text.replace(/{[^}]*}|[^{]+|{/g,function(part){(bililiteRange.sendkeys[part]||simplechar)(self,part,simplechar)});this.bounds(this.data().sendkeysBounds);this.dispatch({type:"sendkeys",which:text});return this},top:function(){return this._nativeTop(this._nativeRange(this.bounds()))},scrollIntoView:function(scroller){var top=this.top();if(this._el.scrollTop>top||this._el.scrollTop+this._el.clientHeight<top){if(scroller){scroller.call(this._el,top)}else{this._el.scrollTop=top}}return this},wrap:function(n){this._nativeWrap(n,this._nativeRange(this.bounds()));return this},selection:function(text){if(arguments.length){return this.bounds("selection").text(text,"end").select()}else{return this.bounds("selection").text()}},clone:function(){return bililiteRange(this._el).bounds(this.bounds())},all:function(text){if(arguments.length){this.dispatch({type:"beforeinput",bubbles:true,data:text});this._el[this._textProp]=text;this.dispatch({type:"input",bubbles:true,data:text});return this}else{return this._el[this._textProp].replace(/\r/g,"")}},element:function(){return this._el},dispatch:function(opts){opts=opts||{};var event=document.createEvent?document.createEvent("CustomEvent"):this._doc.createEventObject();event.initCustomEvent&&event.initCustomEvent(opts.type,!!opts.bubbles,!!opts.cancelable,opts.detail);for(var key in opts)event[key]=opts[key];var el=this._el;setTimeout(function(){try{el.dispatchEvent?el.dispatchEvent(event):el.fireEvent("on"+opts.type,document.createEventObject())}catch(e){var listeners=el["listen"+opts.type];if(listeners)for(var i=0;i<listeners.length;++i){listeners[i].call(el,event)}}},0);return this},listen:function(type,func){var el=this._el;if(el.addEventListener){el.addEventListener(type,func)}else{el.attachEvent("on"+type,func);var listeners=el["listen"+type]=el["listen"+type]||[];listeners.push(func)}return this},dontlisten:function(type,func){var el=this._el;if(el.removeEventListener){el.removeEventListener(type,func)}else try{el.detachEvent("on"+type,func)}catch(e){var listeners=el["listen"+type];if(listeners)for(var i=0;i<listeners.length;++i){if(listeners[i]===func)listeners[i]=function(){}}}return this}};bililiteRange.fn=Range.prototype;bililiteRange.extend=function(fns){for(fn in fns)Range.prototype[fn]=fns[fn]};bililiteRange.bounds={all:function(){return[0,this.length()]},start:function(){return[0,0]},end:function(){return[this.length(),this.length()]},selection:function(){if(this._el===this._doc.activeElement){this.bounds("all");return this._nativeSelection()}else{return this._el.bililiteRangeSelection}}};bililiteRange.sendkeys={"{enter}":function(rng){rng.dispatch({type:"keypress",bubbles:true,keyCode:"\n",which:"\n",charCode:"\n"});rng.insertEOL()},"{tab}":function(rng,c,simplechar){simplechar(rng,"\t")},"{newline}":function(rng,c,simplechar){simplechar(rng,"\n")},"{backspace}":function(rng){var b=rng.bounds();if(b[0]==b[1])rng.bounds([b[0]-1,b[0]]);rng.text("","end")},"{del}":function(rng){var b=rng.bounds();if(b[0]==b[1])rng.bounds([b[0],b[0]+1]);rng.text("","end")},"{rightarrow}":function(rng){var b=rng.bounds();if(b[0]==b[1])++b[1];rng.bounds([b[1],b[1]])},"{leftarrow}":function(rng){var b=rng.bounds();if(b[0]==b[1])--b[0];rng.bounds([b[0],b[0]])},"{selectall}":function(rng){rng.bounds("all")},"{selection}":function(rng){var s=rng.data().sendkeysOriginalText;for(var i=0;i<s.length;++i){var x=s.charCodeAt(i);rng.dispatch({type:"keypress",bubbles:true,keyCode:x,which:x,charCode:x})}rng.text(s,"end")},"{mark}":function(rng){rng.data().sendkeysBounds=rng.bounds()}};bililiteRange.sendkeys["{Enter}"]=bililiteRange.sendkeys["{enter}"];bililiteRange.sendkeys["{Backspace}"]=bililiteRange.sendkeys["{backspace}"];bililiteRange.sendkeys["{Delete}"]=bililiteRange.sendkeys["{del}"];bililiteRange.sendkeys["{ArrowRight}"]=bililiteRange.sendkeys["{rightarrow}"];bililiteRange.sendkeys["{ArrowLeft}"]=bililiteRange.sendkeys["{leftarrow}"];function IERange(){}IERange.prototype=new Range;IERange.prototype._nativeRange=function(bounds){var rng;if(this._el.tagName=="INPUT"){rng=this._el.createTextRange()}else{rng=this._doc.body.createTextRange();rng.moveToElementText(this._el)}if(bounds){if(bounds[1]<0)bounds[1]=0;if(bounds[0]>this.length())bounds[0]=this.length();if(bounds[1]<rng.text.replace(/\r/g,"").length){rng.moveEnd("character",-1);rng.moveEnd("character",bounds[1]-rng.text.replace(/\r/g,"").length)}if(bounds[0]>0)rng.moveStart("character",bounds[0])}return rng};IERange.prototype._nativeSelect=function(rng){rng.select()};IERange.prototype._nativeSelection=function(){var rng=this._nativeRange();var len=this.length();var sel=this._doc.selection.createRange();try{return[iestart(sel,rng),ieend(sel,rng)]}catch(e){return sel.parentElement().sourceIndex<this._el.sourceIndex?[0,0]:[len,len]}};IERange.prototype._nativeGetText=function(rng){return rng.text};IERange.prototype._nativeSetText=function(text,rng){rng.text=text};IERange.prototype._nativeEOL=function(){if("value"in this._el){this.text("\n")}else{this._nativeRange(this.bounds()).pasteHTML("\n<br/>")}};IERange.prototype._nativeTop=function(rng){var startrng=this._nativeRange([0,0]);return rng.boundingTop-startrng.boundingTop};IERange.prototype._nativeWrap=function(n,rng){var div=document.createElement("div");div.appendChild(n);var html=div.innerHTML.replace("><",">"+rng.htmlText+"<");rng.pasteHTML(html)};function iestart(rng,constraint){var len=constraint.text.replace(/\r/g,"").length;if(rng.compareEndPoints("StartToStart",constraint)<=0)return 0;if(rng.compareEndPoints("StartToEnd",constraint)>=0)return len;for(var i=0;rng.compareEndPoints("StartToStart",constraint)>0;++i,rng.moveStart("character",-1));return i}function ieend(rng,constraint){var len=constraint.text.replace(/\r/g,"").length;if(rng.compareEndPoints("EndToEnd",constraint)>=0)return len;if(rng.compareEndPoints("EndToStart",constraint)<=0)return 0;for(var i=0;rng.compareEndPoints("EndToStart",constraint)>0;++i,rng.moveEnd("character",-1));return i}function InputRange(){}InputRange.prototype=new Range;InputRange.prototype._nativeRange=function(bounds){return bounds||[0,this.length()]};InputRange.prototype._nativeSelect=function(rng){this._el.setSelectionRange(rng[0],rng[1])};InputRange.prototype._nativeSelection=function(){return[this._el.selectionStart,this._el.selectionEnd]};InputRange.prototype._nativeGetText=function(rng){return this._el.value.substring(rng[0],rng[1])};InputRange.prototype._nativeSetText=function(text,rng){var val=this._el.value;this._el.value=val.substring(0,rng[0])+text+val.substring(rng[1])};InputRange.prototype._nativeEOL=function(){this.text("\n")};InputRange.prototype._nativeTop=function(rng){var clone=this._el.cloneNode(true);clone.style.visibility="hidden";clone.style.position="absolute";this._el.parentNode.insertBefore(clone,this._el);clone.style.height="1px";clone.value=this._el.value.slice(0,rng[0]);var top=clone.scrollHeight;clone.value="X";top-=clone.scrollHeight;clone.parentNode.removeChild(clone);return top};InputRange.prototype._nativeWrap=function(){throw new Error("Cannot wrap in a text element")};function W3CRange(){}W3CRange.prototype=new Range;W3CRange.prototype._nativeRange=function(bounds){var rng=this._doc.createRange();rng.selectNodeContents(this._el);if(bounds){w3cmoveBoundary(rng,bounds[0],true,this._el);rng.collapse(true);w3cmoveBoundary(rng,bounds[1]-bounds[0],false,this._el)}return rng};W3CRange.prototype._nativeSelect=function(rng){this._win.getSelection().removeAllRanges();this._win.getSelection().addRange(rng)};W3CRange.prototype._nativeSelection=function(){var rng=this._nativeRange();if(this._win.getSelection().rangeCount==0)return[this.length(),this.length()];var sel=this._win.getSelection().getRangeAt(0);return[w3cstart(sel,rng),w3cend(sel,rng)]};W3CRange.prototype._nativeGetText=function(rng){return String.prototype.slice.apply(this._el.textContent,this.bounds())};W3CRange.prototype._nativeSetText=function(text,rng){rng.deleteContents();rng.insertNode(this._doc.createTextNode(text));if(canNormalize)this._el.normalize()};W3CRange.prototype._nativeEOL=function(){var rng=this._nativeRange(this.bounds());rng.deleteContents();var br=this._doc.createElement("br");br.setAttribute("_moz_dirty","");rng.insertNode(br);rng.insertNode(this._doc.createTextNode("\n"));rng.collapse(false)};W3CRange.prototype._nativeTop=function(rng){if(this.length==0)return 0;if(rng.toString()==""){var textnode=this._doc.createTextNode("X");rng.insertNode(textnode)}var startrng=this._nativeRange([0,1]);var top=rng.getBoundingClientRect().top-startrng.getBoundingClientRect().top;if(textnode)textnode.parentNode.removeChild(textnode);return top};W3CRange.prototype._nativeWrap=function(n,rng){rng.surroundContents(n)};function nextnode(node,root){if(node.firstChild)return node.firstChild;if(node.nextSibling)return node.nextSibling;if(node===root)return null;while(node.parentNode){node=node.parentNode;if(node==root)return null;if(node.nextSibling)return node.nextSibling}return null}function w3cmoveBoundary(rng,n,bStart,el){if(n<=0)return;var node=rng[bStart?"startContainer":"endContainer"];if(node.nodeType==3){n+=rng[bStart?"startOffset":"endOffset"]}while(node){if(node.nodeType==3){var length=node.nodeValue.length;if(n<=length){rng[bStart?"setStart":"setEnd"](node,n);if(n==length){for(var next=nextnode(node,el);next&&next.nodeType==3&&next.nodeValue.length==0;next=nextnode(next,el)){rng[bStart?"setStartAfter":"setEndAfter"](next)}if(next&&next.nodeType==1&&next.nodeName=="BR")rng[bStart?"setStartAfter":"setEndAfter"](next)}return}else{rng[bStart?"setStartAfter":"setEndAfter"](node);n-=length}}node=nextnode(node,el)}}var START_TO_START=0;var START_TO_END=1;var END_TO_END=2;var END_TO_START=3;function w3cstart(rng,constraint){if(rng.compareBoundaryPoints(START_TO_START,constraint)<=0)return 0;if(rng.compareBoundaryPoints(END_TO_START,constraint)>=0)return constraint.toString().length;rng=rng.cloneRange();rng.setEnd(constraint.endContainer,constraint.endOffset);return constraint.toString().replace(/\r/g,"").length-rng.toString().replace(/\r/g,"").length}function w3cend(rng,constraint){if(rng.compareBoundaryPoints(END_TO_END,constraint)>=0)return constraint.toString().length;if(rng.compareBoundaryPoints(START_TO_END,constraint)<=0)return 0;rng=rng.cloneRange();rng.setStart(constraint.startContainer,constraint.startOffset);return rng.toString().replace(/\r/g,"").length}function NothingRange(){}NothingRange.prototype=new Range;NothingRange.prototype._nativeRange=function(bounds){return bounds||[0,this.length()]};NothingRange.prototype._nativeSelect=function(rng){};NothingRange.prototype._nativeSelection=function(){return[0,0]};NothingRange.prototype._nativeGetText=function(rng){return this._el[this._textProp].substring(rng[0],rng[1])};NothingRange.prototype._nativeSetText=function(text,rng){var val=this._el[this._textProp];this._el[this._textProp]=val.substring(0,rng[0])+text+val.substring(rng[1])};NothingRange.prototype._nativeEOL=function(){this.text("\n")};NothingRange.prototype._nativeTop=function(){return 0};NothingRange.prototype._nativeWrap=function(){throw new Error("Wrapping not implemented")};var data=[];bililiteRange.fn.data=function(){var index=this.element().bililiteRangeData;if(index==undefined){index=this.element().bililiteRangeData=data.length;data[index]=new Data(this)}return data[index]};try{Object.defineProperty({},"foo",{});var Data=function(rng){Object.defineProperty(this,"values",{value:{}});Object.defineProperty(this,"sourceRange",{value:rng});Object.defineProperty(this,"toJSON",{value:function(){var ret={};for(var i in Data.prototype)if(i in this.values)ret[i]=this.values[i];return ret}});Object.defineProperty(this,"all",{get:function(){var ret={};for(var i in Data.prototype)ret[i]=this[i];return ret}})};Data.prototype={};Object.defineProperty(Data.prototype,"values",{value:{}});Object.defineProperty(Data.prototype,"monitored",{value:{}});bililiteRange.data=function(name,newdesc){newdesc=newdesc||{};var desc=Object.getOwnPropertyDescriptor(Data.prototype,name)||{};if("enumerable"in newdesc)desc.enumerable=!!newdesc.enumerable;if(!("enumerable"in desc))desc.enumerable=true;if("value"in newdesc)Data.prototype.values[name]=newdesc.value;if("monitored"in newdesc)Data.prototype.monitored[name]=newdesc.monitored;desc.configurable=true;desc.get=function(){if(name in this.values)return this.values[name];return Data.prototype.values[name]};desc.set=function(value){this.values[name]=value;if(Data.prototype.monitored[name])this.sourceRange.dispatch({type:"bililiteRangeData",bubbles:true,detail:{name:name,value:value}})};Object.defineProperty(Data.prototype,name,desc)}}catch(err){Data=function(rng){this.sourceRange=rng};Data.prototype={};bililiteRange.data=function(name,newdesc){if("value"in newdesc)Data.prototype[name]=newdesc.value}}})();if(!Array.prototype.forEach){Array.prototype.forEach=function(fun){"use strict";if(this===void 0||this===null)throw new TypeError;var t=Object(this);var len=t.length>>>0;if(typeof fun!=="function")throw new TypeError;var thisArg=arguments.length>=2?arguments[1]:void 0;for(var i=0;i<len;i++){if(i in t)fun.call(thisArg,t[i],i,t)}}}bililiteRange.fancyText=function(editor,highlighter,threshold){if(editor.tagName.toLowerCase()=="textarea"){var replacement=document.createElement("pre");replacement.setAttribute("contenteditable",true);[].forEach.call(editor.attributes,function(attr){replacement.setAttribute(attr.name,attr.value)});replacement.textContent=editor.value;editor.parentNode.replaceChild(replacement,editor);editor=replacement}function debounce(func,threshold){if(!threshold)return func;var timeout;return function(){var self=this,args=arguments;clearTimeout(timeout);timeout=setTimeout(function(){func.apply(self,args)},threshold)}}var rng=bililiteRange(editor);function highlight(){rng.bounds("selection");if(!/\n$/.test(editor.textContent))editor.textContent+="\n";highlighter(editor);rng.select()}if(highlighter){highlight();rng.listen("input",debounce(highlight,threshold))}rng.listen("paste",function(evt){if(!evt.defaultPrevented){rng.bounds("selection").text(evt.clipboardData.getData("text/plain").replace(/\r/g,""),"end").select();evt.preventDefault()}});rng.listen("keydown",function(evt){if(evt.keyCode==13&&!evt.defaultPrevented){rng.bounds("selection").text("\n","end",rng.data().autoindent).select();evt.preventDefault()}});return editor};var _self=typeof window!=="undefined"?window:typeof WorkerGlobalScope!=="undefined"&&self instanceof WorkerGlobalScope?self:{};var Prism=function(){var lang=/\blang(?:uage)?-(\w+)\b/i;var uniqueId=0;var _=_self.Prism={manual:_self.Prism&&_self.Prism.manual,util:{encode:function(tokens){if(tokens instanceof Token){return new Token(tokens.type,_.util.encode(tokens.content),tokens.alias)}else if(_.util.type(tokens)==="Array"){return tokens.map(_.util.encode)}else{return tokens.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")}},type:function(o){return Object.prototype.toString.call(o).match(/\[object (\w+)\]/)[1]},objId:function(obj){if(!obj["__id"]){Object.defineProperty(obj,"__id",{value:++uniqueId})}return obj["__id"]},clone:function(o){var type=_.util.type(o);switch(type){case"Object":var clone={};for(var key in o){if(o.hasOwnProperty(key)){clone[key]=_.util.clone(o[key])}}return clone;case"Array":return o.map&&o.map(function(v){return _.util.clone(v)})}return o}},languages:{extend:function(id,redef){var lang=_.util.clone(_.languages[id]);for(var key in redef){lang[key]=redef[key]}return lang},insertBefore:function(inside,before,insert,root){root=root||_.languages;var grammar=root[inside];if(arguments.length==2){insert=arguments[1];for(var newToken in insert){if(insert.hasOwnProperty(newToken)){grammar[newToken]=insert[newToken]}}return grammar}var ret={};for(var token in grammar){if(grammar.hasOwnProperty(token)){if(token==before){for(var newToken in insert){if(insert.hasOwnProperty(newToken)){ret[newToken]=insert[newToken]}}}ret[token]=grammar[token]}}_.languages.DFS(_.languages,function(key,value){if(value===root[inside]&&key!=inside){this[key]=ret}});return root[inside]=ret},DFS:function(o,callback,type,visited){visited=visited||{};for(var i in o){if(o.hasOwnProperty(i)){callback.call(o,i,o[i],type||i);if(_.util.type(o[i])==="Object"&&!visited[_.util.objId(o[i])]){visited[_.util.objId(o[i])]=true;_.languages.DFS(o[i],callback,null,visited)}else if(_.util.type(o[i])==="Array"&&!visited[_.util.objId(o[i])]){visited[_.util.objId(o[i])]=true;_.languages.DFS(o[i],callback,i,visited)}}}}},plugins:{},highlightAll:function(async,callback){var env={callback:callback,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};_.hooks.run("before-highlightall",env);var elements=env.elements||document.querySelectorAll(env.selector);for(var i=0,element;element=elements[i++];){_.highlightElement(element,async===true,env.callback)}},highlightElement:function(element,async,callback){var language,grammar,parent=element;while(parent&&!lang.test(parent.className)){parent=parent.parentNode}if(parent){language=(parent.className.match(lang)||[,""])[1].toLowerCase();grammar=_.languages[language]}element.className=element.className.replace(lang,"").replace(/\s+/g," ")+" language-"+language;parent=element.parentNode;if(/pre/i.test(parent.nodeName)){parent.className=parent.className.replace(lang,"").replace(/\s+/g," ")+" language-"+language}var code=element.textContent;var env={element:element,language:language,grammar:grammar,code:code};_.hooks.run("before-sanity-check",env);if(!env.code||!env.grammar){if(env.code){_.hooks.run("before-highlight",env);env.element.textContent=env.code;_.hooks.run("after-highlight",env)}_.hooks.run("complete",env);return}_.hooks.run("before-highlight",env);if(async&&_self.Worker){var worker=new Worker(_.filename);worker.onmessage=function(evt){env.highlightedCode=evt.data;_.hooks.run("before-insert",env);env.element.innerHTML=env.highlightedCode;callback&&callback.call(env.element);_.hooks.run("after-highlight",env);_.hooks.run("complete",env)};worker.postMessage(JSON.stringify({language:env.language,code:env.code,immediateClose:true}))}else{env.highlightedCode=_.highlight(env.code,env.grammar,env.language);_.hooks.run("before-insert",env);env.element.innerHTML=env.highlightedCode;callback&&callback.call(element);_.hooks.run("after-highlight",env);_.hooks.run("complete",env)}},highlight:function(text,grammar,language){var tokens=_.tokenize(text,grammar);return Token.stringify(_.util.encode(tokens),language)},matchGrammar:function(text,strarr,grammar,index,startPos,oneshot,target){var Token=_.Token;for(var token in grammar){if(!grammar.hasOwnProperty(token)||!grammar[token]){continue}if(token==target){return}var patterns=grammar[token];patterns=_.util.type(patterns)==="Array"?patterns:[patterns];for(var j=0;j<patterns.length;++j){var pattern=patterns[j],inside=pattern.inside,lookbehind=!!pattern.lookbehind,greedy=!!pattern.greedy,lookbehindLength=0,alias=pattern.alias;if(greedy&&!pattern.pattern.global){var flags=pattern.pattern.toString().match(/[imuy]*$/)[0];pattern.pattern=RegExp(pattern.pattern.source,flags+"g")}pattern=pattern.pattern||pattern;for(var i=index,pos=startPos;i<strarr.length;pos+=strarr[i].length,++i){var str=strarr[i];if(strarr.length>text.length){return}if(str instanceof Token){continue}pattern.lastIndex=0;var match=pattern.exec(str),delNum=1;if(!match&&greedy&&i!=strarr.length-1){pattern.lastIndex=pos;match=pattern.exec(text);if(!match){break}var from=match.index+(lookbehind?match[1].length:0),to=match.index+match[0].length,k=i,p=pos;for(var len=strarr.length;k<len&&(p<to||!strarr[k].type&&!strarr[k-1].greedy);++k){p+=strarr[k].length;if(from>=p){++i;pos=p}}if(strarr[i]instanceof Token||strarr[k-1].greedy){continue}delNum=k-i;str=text.slice(pos,p);match.index-=pos}if(!match){if(oneshot){break}continue}if(lookbehind){lookbehindLength=match[1].length}var from=match.index+lookbehindLength,match=match[0].slice(lookbehindLength),to=from+match.length,before=str.slice(0,from),after=str.slice(to);var args=[i,delNum];if(before){++i;pos+=before.length;args.push(before)}var wrapped=new Token(token,inside?_.tokenize(match,inside):match,alias,match,greedy);args.push(wrapped);if(after){args.push(after)}Array.prototype.splice.apply(strarr,args);if(delNum!=1)_.matchGrammar(text,strarr,grammar,i,pos,true,token);if(oneshot)break}}}},tokenize:function(text,grammar,language){var strarr=[text];var rest=grammar.rest;if(rest){for(var token in rest){grammar[token]=rest[token]}delete grammar.rest}_.matchGrammar(text,strarr,grammar,0,0,false);return strarr},hooks:{all:{},add:function(name,callback){var hooks=_.hooks.all;hooks[name]=hooks[name]||[];hooks[name].push(callback)},run:function(name,env){var callbacks=_.hooks.all[name];if(!callbacks||!callbacks.length){return}for(var i=0,callback;callback=callbacks[i++];){callback(env)}}}};var Token=_.Token=function(type,content,alias,matchedStr,greedy){this.type=type;this.content=content;this.alias=alias;this.length=(matchedStr||"").length|0;this.greedy=!!greedy};Token.stringify=function(o,language,parent){if(typeof o=="string"){return o}if(_.util.type(o)==="Array"){return o.map(function(element){return Token.stringify(element,language,o)}).join("")}var env={type:o.type,content:Token.stringify(o.content,language,parent),tag:"span",classes:["token",o.type],attributes:{},language:language,parent:parent};if(env.type=="comment"){env.attributes["spellcheck"]="true"}if(o.alias){var aliases=_.util.type(o.alias)==="Array"?o.alias:[o.alias];Array.prototype.push.apply(env.classes,aliases)}_.hooks.run("wrap",env);var attributes=Object.keys(env.attributes).map(function(name){return name+'="'+(env.attributes[name]||"").replace(/"/g,"&quot;")+'"'}).join(" ");return"<"+env.tag+' class="'+env.classes.join(" ")+'"'+(attributes?" "+attributes:"")+">"+env.content+"</"+env.tag+">"};if(!_self.document){if(!_self.addEventListener){return _self.Prism}_self.addEventListener("message",function(evt){var message=JSON.parse(evt.data),lang=message.language,code=message.code,immediateClose=message.immediateClose;_self.postMessage(_.highlight(code,_.languages[lang],lang));if(immediateClose){_self.close()}},false);return _self.Prism}var script=document.currentScript||[].slice.call(document.getElementsByTagName("script")).pop();if(script){_.filename=script.src;if(document.addEventListener&&!_.manual&&!script.hasAttribute("data-manual")){if(document.readyState!=="loading"){if(window.requestAnimationFrame){window.requestAnimationFrame(_.highlightAll)}else{window.setTimeout(_.highlightAll,16)}}else{document.addEventListener("DOMContentLoaded",_.highlightAll)}}}return _self.Prism}();if(typeof module!=="undefined"&&module.exports){module.exports=Prism}if(typeof global!=="undefined"){global.Prism=Prism}Prism.languages.markup={comment:/<!--[\s\S]*?-->/,prolog:/<\?[\s\S]+?\?>/,doctype:/<!DOCTYPE[\s\S]+?>/i,cdata:/<!\[CDATA\[[\s\S]*?]]>/i,tag:{pattern:/<\/?(?!\d)[^\s>\/=$<]+(?:\s+[^\s>\/=]+(?:=(?:("|')(?:\\\1|\\?(?!\1)[\s\S])*\1|[^\s'">=]+))?)*\s*\/?>/i,inside:{tag:{pattern:/^<\/?[^\s>\/]+/i,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"attr-value":{pattern:/=(?:('|")[\s\S]*?(\1)|[^\s>]+)/i,inside:{punctuation:/[=>"']/}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:/&#?[\da-z]{1,8};/i};Prism.hooks.add("wrap",function(env){if(env.type==="entity"){env.attributes["title"]=env.content.replace(/&amp;/,"&")}});Prism.languages.xml=Prism.languages.markup;Prism.languages.html=Prism.languages.markup;Prism.languages.mathml=Prism.languages.markup;Prism.languages.svg=Prism.languages.markup;Prism.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:/@[\w-]+?.*?(;|(?=\s*\{))/i,inside:{rule:/@[\w-]+/}},url:/url\((?:(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1|.*?)\)/i,selector:/[^\{\}\s][^\{\};]*?(?=\s*\{)/,string:{pattern:/("|')(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:true},property:/(\b|\B)[\w-]+(?=\s*:)/i,important:/\B!important\b/i,function:/[-a-z0-9]+(?=\()/i,punctuation:/[(){};:]/};Prism.languages.css["atrule"].inside.rest=Prism.util.clone(Prism.languages.css);if(Prism.languages.markup){Prism.languages.insertBefore("markup","tag",{style:{pattern:/(<style[\s\S]*?>)[\s\S]*?(?=<\/style>)/i,lookbehind:true,inside:Prism.languages.css,alias:"language-css"}});Prism.languages.insertBefore("inside","attr-value",{"style-attr":{pattern:/\s*style=("|').*?\1/i,inside:{"attr-name":{pattern:/^\s*style/i,inside:Prism.languages.markup.tag.inside},punctuation:/^\s*=\s*['"]|['"]\s*$/,"attr-value":{pattern:/.+/i,inside:Prism.languages.css}},alias:"language-css"}},Prism.languages.markup.tag)}Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?\*\//,lookbehind:true},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:true}],string:{pattern:/(["'])(\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:true},"class-name":{pattern:/((?:\b(?:class|interface|extends|implements|trait|instanceof|new)\s+)|(?:catch\s+\())[a-z0-9_\.\\]+/i,lookbehind:true,inside:{punctuation:/(\.|\\)/}},keyword:/\b(if|else|while|do|for|return|in|instanceof|function|new|try|throw|catch|finally|null|break|continue)\b/,boolean:/\b(true|false)\b/,function:/[a-z0-9_]+(?=\()/i,number:/\b-?(?:0x[\da-f]+|\d*\.?\d+(?:e[+-]?\d+)?)\b/i,operator:/--?|\+\+?|!=?=?|<=?|>=?|==?=?|&&?|\|\|?|\?|\*|\/|~|\^|%/,punctuation:/[{}[\];(),.:]/};Prism.languages.javascript=Prism.languages.extend("clike",{keyword:/\b(as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|var|void|while|with|yield)\b/,number:/\b-?(0x[\dA-Fa-f]+|0b[01]+|0o[0-7]+|\d*\.?\d+([Ee][+-]?\d+)?|NaN|Infinity)\b/,function:/[_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*(?=\()/i,operator:/-[-=]?|\+[+=]?|!=?=?|<<?=?|>>?>?=?|=(?:==?|>)?|&[&=]?|\|[|=]?|\*\*?=?|\/=?|~|\^=?|%=?|\?|\.{3}/});Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:/(^|[^/])\/(?!\/)(\[.+?]|\\.|[^/\\\r\n])+\/[gimyu]{0,5}(?=\s*($|[\r\n,.;})]))/,lookbehind:true,greedy:true}});Prism.languages.insertBefore("javascript","string",{"template-string":{pattern:/`(?:\\\\|\\?[^\\])*?`/,greedy:true,inside:{interpolation:{pattern:/\$\{[^}]+\}/,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}}});if(Prism.languages.markup){Prism.languages.insertBefore("markup","tag",{script:{pattern:/(<script[\s\S]*?>)[\s\S]*?(?=<\/script>)/i,lookbehind:true,inside:Prism.languages.javascript,alias:"language-javascript"}})}Prism.languages.js=Prism.languages.javascript;(function(){if(typeof self==="undefined"||!self.Prism||!self.document||!document.querySelector){return}self.Prism.fileHighlight=function(){var Extensions={js:"javascript",py:"python",rb:"ruby",ps1:"powershell",psm1:"powershell",sh:"bash",bat:"batch",h:"c",tex:"latex"};if(Array.prototype.forEach){Array.prototype.slice.call(document.querySelectorAll("pre[data-src]")).forEach(function(pre){var src=pre.getAttribute("data-src");var language,parent=pre;var lang=/\blang(?:uage)?-(?!\*)(\w+)\b/i;while(parent&&!lang.test(parent.className)){parent=parent.parentNode}if(parent){language=(pre.className.match(lang)||[,""])[1]}if(!language){var extension=(src.match(/\.(\w+)$/)||[,""])[1];language=Extensions[extension]||extension}var code=document.createElement("code");code.className="language-"+language;pre.textContent="";code.textContent="Loading…";pre.appendChild(code);var xhr=new XMLHttpRequest;xhr.open("GET",src,true);xhr.onreadystatechange=function(){if(xhr.readyState==4){if(xhr.status<400&&xhr.responseText){code.textContent=xhr.responseText;Prism.highlightElement(code)}else if(xhr.status>=400){code.textContent="✖ Error "+xhr.status+" while fetching file: "+xhr.statusText}else{code.textContent="✖ Error: File does not exist or is empty"}}};xhr.send(null)})}};document.addEventListener("DOMContentLoaded",self.Prism.fileHighlight)})();Prism.languages.brainfuck={pointer:{pattern:/<|>/,alias:"keyword"},increment:{pattern:/\+/,alias:"inserted"},decrement:{pattern:/-/,alias:"deleted"},branching:{pattern:/\[|\]/,alias:"important"},operator:/[.,]/,comment:/\S+/};
